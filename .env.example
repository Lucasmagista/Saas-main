# ========================================
# CONFIGURAÇÕES DE AMBIENTE - SAAS PLATFORM
# ========================================

# ========================================
# BANCO DE DADOS
# ========================================
# URL de conexão com PostgreSQL local
DATABASE_URL=postgresql://username:password@localhost:5432/saas_platform

# Configurações do pool de conexões
DATABASE_POOL_SIZE=10
DATABASE_IDLE_TIMEOUT=30000

# ========================================
# SUPABASE (mantido para compatibilidade)
# ========================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key

# ========================================
# AUTENTICAÇÃO E SEGURANÇA
# ========================================
# Chave secreta para JWT (mínimo 32 caracteres)
JWT_SECRET=your-super-secret-jwt-key-with-at-least-32-characters

# Tempo de expiração dos tokens
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_EXPIRES_IN=7d

# Configurações de segurança
BCRYPT_ROUNDS=12
SESSION_TIMEOUT=86400000

# ========================================
# WHATSAPP E BOTS
# ========================================
# Porta para o serviço WPPConnect
WPP_PORT=3001

# ========================================
# SERVIDOR
# ========================================
# Ambiente (development, production, test)
NODE_ENV=development

# Porta do servidor backend
PORT=3002

# ========================================
# CORS E ORIGENS PERMITIDAS
# ========================================
# Lista de origens permitidas (separadas por vírgula)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:5173

# Ou permitir todas as origens (apenas para desenvolvimento)
# CORS_ORIGIN=*

# ========================================
# RATE LIMITING
# ========================================
# Limite global de requisições (por IP a cada 15 minutos)
RATE_LIMIT_MAX=500
RATE_LIMIT_WINDOW_MS=900000

# Limite específico para autenticação
AUTH_RATE_LIMIT_MAX=10

# ========================================
# REDIS (OPCIONAL - para cluster Socket.IO)
# ========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ========================================
# LOGS
# ========================================
# Nível de log (error, warn, info, debug)
LOG_LEVEL=info

# Arquivo de log
LOG_FILE=logs/app.log

# ========================================
# UPLOADS E ARQUIVOS
# ========================================
# Diretório de uploads
UPLOAD_DIR=./uploads

# Tamanho máximo de arquivo (10MB)
MAX_FILE_SIZE=10485760

# ========================================
# WEBHOOKS
# ========================================
# Timeout para webhooks (10 segundos)
WEBHOOK_TIMEOUT=10000

# Número de tentativas para webhooks
WEBHOOK_RETRIES=3

# Secret para validar webhooks (opcional)
WEBHOOK_SECRET=your-webhook-secret

# ========================================
# TOKENS DE API EXTERNA
# ========================================
# GitHub (para importação de bots)
GITHUB_TOKEN=your-github-token

# GitLab (para importação de bots)
GITLAB_TOKEN=your-gitlab-token

# ========================================
# MONITORAMENTO E MÉTRICAS
# ========================================
# Sentry (opcional)
SENTRY_DSN=your-sentry-dsn

# ========================================
# EMAIL (OPCIONAL)
# ========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# ========================================
# EXEMPLO DE CONFIGURAÇÃO PARA DESENVOLVIMENTO
# ========================================
# Copie este arquivo para .env e ajuste os valores conforme necessário
# 
# Para desenvolvimento local com PostgreSQL:
# DATABASE_URL=postgresql://postgres:password@localhost:5432/saas_platform
# 
# Para desenvolvimento sem tokens externos:
# GITHUB_TOKEN=
# GITLAB_TOKEN=
# 
# Para desenvolvimento com todas as origens permitidas:
# CORS_ORIGIN=*